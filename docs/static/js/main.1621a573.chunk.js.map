{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["ContractAddress","CharityContractAddress","App","useState","celoBalance","setCeloBalance","cUSDBalance","setcUSDBalance","books","setBooks","contract","setcontract","address","setAddress","kit","setKit","amountDonated","setAmountDonated","bookSold","setBookSold","useEffect","connectCeloWallet","a","window","celo","enable","web3","Web3","newKitFromWeb3","eth","getAccounts","accounts","user_address","defaultAccount","Contract","charityABI","console","log","error","alert","getBalance","getTotalBalance","balance","CELO","shiftedBy","toFixed","USDBalance","cUSD","Number","getBooks","methods","booksLength","call","_bookLength","_books","i","_b","Promise","resolve","reject","fetchBook","_book","index","book_name","cover_photo","description","price","BigNumber","sales","push","all","all_books","total_sales","forEach","book","sum","toString","fetchAmountDonated","amount","formated_amount","buyBook","_index","_price","cUSDContract","erc20Abi","bookPrice","approve","send","from","donate","_amount","donationAmount","bookImageStyle","maxHeight","className","href","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","src","alt","map","key","style","onClick","e","preventDefault","data-ride","placeholder","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1621a573.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n// import { useContractKit, newKitFromWeb3 } from \"@celo-tools/use-contractkit\";\r\nimport { newKitFromWeb3 } from \"@celo/contractkit\";\r\nimport \"@celo-tools/use-contractkit/lib/styles.css\";\r\nimport Web3 from \"@celo/contractkit/node_modules/web3\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport charityABI from \"./contracts/BookCharity.abi.json\";\r\nimport erc20Abi from \"./contracts/IERC20Token.abi.json\";\r\nconst ContractAddress = \"0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1\";\r\nconst CharityContractAddress = \"0x2091a4ebde62B460985D28dCC48dd2C86f3A8787\";\r\n\r\nexport default function App() {\r\n\r\n  const [celoBalance, setCeloBalance] = useState(0);\r\n  const [cUSDBalance, setcUSDBalance] = useState(0);\r\n  const [books, setBooks] = useState([]);\r\n  const [contract, setcontract] = useState(null);\r\n  const [address, setAddress] = useState(null);\r\n  const [kit, setKit] = useState(null);\r\n  const [amountDonated, setAmountDonated] = useState(0);\r\n  const [bookSold, setBookSold] = useState(0);\r\n\r\n  const ERC20_DECIMALS = 18;\r\n  useEffect(() => {\r\n    // connect the users wallet\r\n    connectCeloWallet();\r\n  }, []);\r\n\r\n  const connectCeloWallet = async () => {\r\n    if (window.celo) {\r\n      try {\r\n        await window.celo.enable();\r\n        const web3 = new Web3(window.celo);\r\n        let kit = newKitFromWeb3(web3);\r\n        await setKit(kit);\r\n\r\n        const accounts = await kit.web3.eth.getAccounts();\r\n        const user_address = accounts[0];\r\n        kit.defaultAccount = user_address;\r\n        await setAddress(user_address);\r\n\r\n        const contract = new kit.web3.eth.Contract(\r\n          charityABI,\r\n          CharityContractAddress\r\n        );\r\n        setcontract(contract);\r\n      } catch (error) {\r\n        console.log({ error });\r\n        alert(`⚠️ ${error}.`)\r\n      }\r\n    } else {\r\n      console.log(\"please install the extension\");\r\n      alert(\"⚠️ Please install the CeloExtensionWallet.\")\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (kit && address) {\r\n      return getBalance();\r\n    } else {\r\n      console.log(\"no kit or address\");\r\n    }\r\n  }, [kit, address]);\r\n\r\n  const getBalance = async () => {\r\n    const balance = await kit.getTotalBalance(address);\r\n    const celoBalance = balance.CELO.shiftedBy(-ERC20_DECIMALS).toFixed(2);\r\n    const USDBalance = balance.cUSD.shiftedBy(-ERC20_DECIMALS).toFixed(2);\r\n\r\n    setCeloBalance(Number(celoBalance));\r\n    setcUSDBalance(Number(USDBalance));\r\n  };\r\n\r\n  const getBooks = async () => {\r\n    try {\r\n      const _bookLength = await contract.methods.booksLength().call();\r\n      const _books = [];\r\n  \r\n      for (let i = 0; i < _bookLength; i++) {\r\n        let _b = new Promise(async (resolve, reject) => {\r\n          let _book = await contract.methods.fetchBook(i).call();\r\n  \r\n          resolve({\r\n            index: i,\r\n            book_name: _book.book_name,\r\n            cover_photo: _book.cover_photo,\r\n            description: _book.description,\r\n            price: new BigNumber(_book.price),\r\n            sales: _book.sales,\r\n          });\r\n        });\r\n        _books.push(_b);\r\n      }\r\n      const all_books = await Promise.all(_books);\r\n      let total_sales = new BigNumber(0);\r\n  \r\n      all_books.forEach((book) => {\r\n       total_sales =  BigNumber.sum( total_sales, BigNumber(book.sales));\r\n      });\r\n      setBookSold(new BigNumber(total_sales).toString());\r\n      setBooks(all_books);\r\n    } catch (error) {\r\n      console.log(error)\r\n      alert(\"Something went wrong\")\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (contract) return getBooks();\r\n  }, [contract]);\r\n\r\n  useEffect(() => {\r\n    // fetch total amout of cUSD donated\r\n    if (contract) return fetchAmountDonated();\r\n  }, [contract]);\r\n\r\n  const fetchAmountDonated = async () => {\r\n    const amount = await contract.methods.amountDonated().call();\r\n    const formated_amount = new BigNumber(amount).shiftedBy(-ERC20_DECIMALS).toFixed(2)\r\n    console.log({ amount, formated_amount });\r\n    setAmountDonated(Number(formated_amount));\r\n  };\r\n\r\n  const buyBook = async (_index, _price) => {\r\n    try {\r\n      const cUSDContract = new kit.web3.eth.Contract(erc20Abi, ContractAddress);\r\n\r\n      const bookPrice = new BigNumber(_price).shiftedBy(ERC20_DECIMALS).toString();\r\n\r\n      console.log({ bookPrice });\r\n      const result = await cUSDContract.methods.approve(CharityContractAddress, bookPrice).send({ from: address });\r\n\r\n      await contract.methods.buyBook(_index, bookPrice).send({ from: address });\r\n      // return result\r\n      getBalance();\r\n      getBooks();\r\n    } catch (error) {\r\n      alert(error)\r\n      console.log({ error });\r\n    }\r\n  };\r\n\r\n  const donate = async (_amount) => {\r\n    try {\r\n      const cUSDContract = new kit.web3.eth.Contract(erc20Abi, ContractAddress);\r\n      const donationAmount = new BigNumber(_amount).shiftedBy(ERC20_DECIMALS).toString();\r\n      console.log({ donationAmount });\r\n\r\n      const result = await cUSDContract.methods\r\n        .approve(CharityContractAddress, donationAmount)\r\n        .send({ from: address });\r\n\r\n      await contract.methods.donate(donationAmount).send({ from: address });\r\n      // return result\r\n      getBalance();\r\n      fetchAmountDonated();\r\n    } catch (error) {\r\n      alert(error)\r\n      console.log({ error });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (contract) return getBooks();\r\n  }, [contract]);\r\n\r\n  const bookImageStyle = {\r\n    maxHeight: '235px',\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <header>\r\n        <div className=\"container-fluid p-0\">\r\n          <nav className=\"navbar navbar-expand-lg\">\r\n            <a className=\"navbar-brand\" href=\"#\">\r\n              <i className=\"fas fa-book-reader fa-2x mx-3\" />\r\n              Books For Charity\r\n            </a>\r\n            <button\r\n              className=\"navbar-toggler\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#navbarNav\"\r\n              aria-controls=\"navbarNav\"\r\n              aria-expanded=\"false\"\r\n              aria-label=\"Toggle navigation\"\r\n            >\r\n              <i className=\"fas fa-align-right text-light\" />\r\n            </button>\r\n            <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n              <div className=\"mr-auto\" />\r\n              <ul className=\"navbar-nav\">\r\n                <li className=\"nav-item active\">\r\n                  <a className=\"nav-link\" href=\"#home\">\r\n                    HOME\r\n                    <span className=\"sr-only\">(current)</span>\r\n                  </a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className=\"nav-link\" href=\"#about\">\r\n                    ABOUT\r\n                  </a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className=\"nav-link\" href=\"#stats\">\r\n                    STATS\r\n                  </a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className=\"nav-link\" href=\"#donate\">\r\n                    DONATE\r\n                  </a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className=\"nav-link\" href=\"#reviews\">\r\n                    REVIEWS\r\n                  </a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className=\"nav-link\" href=\"#contact\">\r\n                    CONTACT\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </nav>\r\n        </div>\r\n        <div className=\"container text-center\" id=\"home\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-7 col-sm-12  text-white\">\r\n              <h6>AUTHOR: CREATES BOOKS</h6>\r\n              <h1>BUYERS HELP DONATE TO CHARITY</h1>\r\n              <p>\r\n                authors help create books for buyers who purchase, funds\r\n                generated are fully donated for charity.\r\n              </p>\r\n              <button className=\"btn btn-light px-5 py-2 primary-btn\">\r\n                By now\r\n              </button>\r\n            </div>\r\n            <div className=\"col-md-5 col-sm-12  h-25\">\r\n              <img src=\"assets/images/header-img.png\" alt=\"Book\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n      <main>\r\n        <section className=\"section-1\" id=\"about\">\r\n          <div className=\"container text-center\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6 col-12\">\r\n                <div className=\"pray\">\r\n                  <img\r\n                    src=\"assets/images/pexels/pexels-photo-1904769.jpeg\"\r\n                    alt=\"Pray\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6 col-12\">\r\n                <div className=\"panel text-left\">\r\n                  <h1>Mr. Success Oganiru</h1>\r\n                  <p className=\"pt-4\">\r\n                    This project is dedicated for the dacade course learning\r\n                    community for introduction to celo blockchain development\r\n                    created by Success a learning student for the implementation\r\n                    of what was learnt during the course.\r\n                  </p>\r\n                  <p>\r\n                    The project is a minimal idea drawn from a use case for\r\n                    charity. it brings together authors and readers who loves\r\n                    charity. authors create amazing reads showcased for limited\r\n                    amount of time where buyers get a value for thier donation\r\n                    in form of having a copy of thier favourite books.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <section className=\"section-2 container-fluid p-0\" id=\"stats\">\r\n          <div className=\"cover\">\r\n            <div className=\"overlay\" />\r\n            <div className=\"content text-center\">\r\n              <h1>Have a look at statistics generated from the site</h1>\r\n              <p>\r\n                A display of fun stuff we,ve generated so far from users and\r\n                authors.\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"container-fluid text-center\">\r\n            <div className=\"numbers d-flex flex-md-row flex-wrap justify-content-center\">\r\n              <div className=\"rect\">\r\n                <h1>{celoBalance}</h1>\r\n                <p>Your Celo Balance</p>\r\n              </div>\r\n              <div className=\"rect\">\r\n                <h1>{cUSDBalance}</h1>\r\n                <p>Your cUSD balance </p>\r\n              </div>\r\n              <div className=\"rect\">\r\n                <h1>{bookSold}</h1>\r\n                <p>Total book sales</p>\r\n              </div>\r\n              <div className=\"rect\">\r\n                <h1>{amountDonated}</h1>\r\n                <p>Funds raised in cUSD</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"purchase text-center\" id=\"buy\">\r\n            <h1>BOOKS NOW ON SALE</h1>\r\n            <p>Buy this amazing reads and help donate to charity</p>\r\n            <div className=\"cards\">\r\n              <div className=\"d-flex flex-row justify-content-center flex-wrap\">\r\n                {books &&\r\n                  books.map((_book, key) => (\r\n                    <div className=\"card\" key = {key}>\r\n                      <img src={_book.cover_photo} className=\"card-img-top\" alt={_book.book_name} style={bookImageStyle}></img>\r\n                      <div className=\"card-body\">\r\n                        <div className=\"title\">\r\n                          <h5 className=\"card-title\">{_book.book_name}</h5>\r\n                        </div>\r\n                        <p className=\"card-text\">{_book.description}</p>\r\n\r\n                        <p className=\"card-text\">\r\n                          Number of Sales : {_book.sales}\r\n                        </p>\r\n                        <div className=\"pricing\">\r\n                          <h1>{_book.price.toString()} cUSD</h1>\r\n                          <a\r\n                            href=\"#\"\r\n                            className=\"btn btn-dark px-5 py-2 primary-btn mb-5\"\r\n                            onClick={(e) => {\r\n                              e.preventDefault();\r\n                              buyBook(_book.index, _book.price);\r\n                            }}\r\n                          >\r\n                            Purchase Now\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <section\r\n          className=\"section-3 container-fluid p-0 text-center\"\r\n          id=\"donate\"\r\n        >\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12 col-sm-12\">\r\n              <h1>Don't feel you need a book but still wish to donate?</h1>\r\n              <p>\r\n                We understand not everyone needs a book but would love to give\r\n                to charity, no worries you can donate directly from below we\r\n                made it easy to do by choosing any of the plans below that\r\n                suites your donation chioce.\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"platform row\">\r\n            <div className=\"col-md-6 col-sm-12 text-right\">\r\n              <div className=\"desktop shadow-lg\">\r\n                <div className=\"d-flex flex-row justify-content-center\">\r\n                  <div\r\n                    className=\"text text-center\"\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      donate(2);\r\n                    }}\r\n                  >\r\n                    <h3 href=\"#\" className=\" pt-1 m-0\">\r\n                      CLICK TO DONATE\r\n                    </h3>\r\n                    <p className=\"p-0 m-0\">2 cUSD</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-6 col-sm-12 text-left\">\r\n              <div className=\"desktop shadow-lg\">\r\n                <div className=\"d-flex flex-row justify-content-center\">\r\n                  <div\r\n                    className=\"text text-center\"\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      donate(5);\r\n                    }}\r\n                  >\r\n                    <h3 href=\"#\" className=\" pt-1 m-0\">\r\n                      CLICK TO DONATE\r\n                    </h3>\r\n\r\n                    <p className=\"p-0 m-0\">5 cUSD</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        {/* Section 4 */}\r\n        <section className=\"section-4\" id=\"reviews\">\r\n          <div className=\"container text-center\">\r\n            <h1 className=\"text-dark\">What our readers Say about us</h1>\r\n            <p className=\"text-secondary\">\r\n              Our amazing readers from around the globe have something to say\r\n            </p>\r\n          </div>\r\n          <div className=\"team row \">\r\n            <div className=\"col-md-4 col-12 text-center\">\r\n              <div className=\"card mr-2 d-inline-block shadow-lg\">\r\n                <div className=\"card-img-top\">\r\n                  <img\r\n                    src=\"assets/images/faces/UI-face-3.jpg\"\r\n                    className=\"img-fluid border-radius p-4\"\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <h3 className=\"card-title\">Blalock Jolene</h3>\r\n                  <p className=\"card-text\">\r\n                    Amazing platform books are best selected and educative, i\r\n                    found a fun way to donate to charity why doing what i love.\r\n                  </p>\r\n                  <a href=\"#\" className=\"text-secondary text-decoration-none\">\r\n                    Blalock Jolene\r\n                  </a>\r\n                  <p className=\"text-black-50\">Reader</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-4 col-12\">\r\n              <div\r\n                id=\"carouselExampleControls\"\r\n                className=\"carousel slide \"\r\n                data-ride=\"carousel\"\r\n              >\r\n                <div className=\"carousel-inner text-center\">\r\n                  <div className=\"carousel-item active\">\r\n                    <div className=\"card mr-2 d-inline-block shadow\">\r\n                      <div className=\"card-img-top\">\r\n                        <img\r\n                          src=\"assets/images/faces/UI-face-1.jpg\"\r\n                          className=\"img-fluid rounded-circle w-50 p-4\"\r\n                          alt=\"\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"card-body\">\r\n                        <h3 className=\"card-title\">Allen Agnes</h3>\r\n                        <p className=\"card-text\">\r\n                          Nothing beats this experience getting real value for\r\n                          donation, i have some bulks i run this up, always\r\n                          exciting books on sale.\r\n                        </p>\r\n                        <a\r\n                          href=\"#\"\r\n                          className=\"text-secondary text-decoration-none\"\r\n                        >\r\n                          Allen Agnes\r\n                        </a>\r\n                        <p className=\"text-black-50\">Reader</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"carousel-item\">\r\n                    <div className=\"card  d-inline-block mr-2 shadow\">\r\n                      <div className=\"card-img-top\">\r\n                        <img\r\n                          src=\"assets/images/faces/UI-face-2.jpg\"\r\n                          className=\"img-fluid rounded-circle w-50 p-4\"\r\n                          alt=\"\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"card-body\">\r\n                        <h3 className=\"card-title\">Amiel Barbara</h3>\r\n                        <p className=\"card-text\">\r\n                          Been donatng a yers now and feels good to see some\r\n                          books i crazed to read on the platform love the\r\n                          feature for those who still wish to donate without\r\n                          buying a book.\r\n                        </p>\r\n                        <a\r\n                          href=\"#\"\r\n                          className=\"text-secondary text-decoration-none\"\r\n                        >\r\n                          Amiel Barbara\r\n                        </a>\r\n                        <p className=\"text-black-50\">Reader</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-4 col-12 text-center\">\r\n              <div className=\"card mr-2 d-inline-block shadow-lg\">\r\n                <div className=\"card-img-top\">\r\n                  <img\r\n                    src=\"assets/images/faces/UI-face-4.jpg\"\r\n                    className=\"img-fluid border-radius p-4\"\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <h3 className=\"card-title\">Olivia Louis</h3>\r\n                  <p className=\"card-text\">\r\n                    I love the transparency and fact readers hlep to change\r\n                    lives around the world by doing what they love.\r\n                  </p>\r\n                  <a href=\"#\" className=\"text-secondary text-decoration-none\">\r\n                    Olivia Louis\r\n                  </a>\r\n                  <p className=\"text-black-50\">Reader</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </main>\r\n      <footer>\r\n        <div className=\"container-fluid p-0\" id=\"contact\">\r\n          <div className=\"row text-left\">\r\n            <div className=\"col-md-5 col-sm-5\">\r\n              <h4 className=\"text-light\">About me</h4>\r\n              <p className=\"text-muted\">\r\n                yeah i took the course, built something that you love. Don't you{\" \"}\r\n              </p>\r\n              <p className=\"pt-4 text-muted\">\r\n                Copyright ©2021 All rights reserved |\r\n                <span>intro to celo Dev</span>\r\n              </p>\r\n            </div>\r\n            <div className=\"col-md-5 col-sm-12\">\r\n              <h4 className=\"text-light\">Newsletter</h4>\r\n              <p className=\"text-muted\">Stay Updated</p>\r\n              <form className=\"form-inline\">\r\n                <div className=\"col pl-0\">\r\n                  <div className=\"input-group pr-5\">\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control bg-dark text-white\"\r\n                      id=\"inlineFormInputGroupUsername2\"\r\n                      placeholder=\"Email\"\r\n                    />\r\n                    <div className=\"input-group-prepend\">\r\n                      <div className=\"input-group-text\">\r\n                        <i className=\"fas fa-arrow-right\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n            <div className=\"col-md-2 col-sm-12\">\r\n              <h4 className=\"text-light\">Follow Us</h4>\r\n              <p className=\"text-muted\">Let us be social</p>\r\n              <div className=\"column text-light\">\r\n                <i className=\"fab fa-facebook-f\" />\r\n                <i className=\"fab fa-instagram\" />\r\n                <i className=\"fab fa-twitter\" />\r\n                <i className=\"fab fa-youtube\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}